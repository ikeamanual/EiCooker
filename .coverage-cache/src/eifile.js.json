{"code":"\"use strict\";var cov_1j9skdwwk3=function(){var path=\"/home/peter/dev/EiCooker/src/eifile.js\",hash=\"59b9192e359f2cd1444b1040d97e81d7c30ebc18\",Function=function(){}.constructor,global=new Function('return this')(),gcv=\"__coverage__\",coverageData={path:\"/home/peter/dev/EiCooker/src/eifile.js\",statementMap:{\"0\":{start:{line:2,column:13},end:{line:2,column:28}},\"1\":{start:{line:3,column:12},end:{line:3,column:62}},\"2\":{start:{line:5,column:0},end:{line:5,column:16}},\"3\":{start:{line:7,column:0},end:{line:21,column:2}},\"4\":{start:{line:8,column:2},end:{line:8,column:28}},\"5\":{start:{line:10,column:15},end:{line:10,column:30}},\"6\":{start:{line:11,column:13},end:{line:11,column:26}},\"7\":{start:{line:12,column:19},end:{line:12,column:46}},\"8\":{start:{line:14,column:15},end:{line:14,column:48}},\"9\":{start:{line:16,column:2},end:{line:16,column:26}},\"10\":{start:{line:17,column:21},end:{line:17,column:41}},\"11\":{start:{line:18,column:13},end:{line:18,column:50}},\"12\":{start:{line:19,column:16},end:{line:19,column:30}},\"13\":{start:{line:20,column:2},end:{line:20,column:15}},\"14\":{start:{line:23,column:0},end:{line:37,column:2}},\"15\":{start:{line:24,column:2},end:{line:24,column:23}},\"16\":{start:{line:25,column:15},end:{line:25,column:30}},\"17\":{start:{line:27,column:17},end:{line:35,column:3}},\"18\":{start:{line:36,column:2},end:{line:36,column:18}},\"19\":{start:{line:39,column:0},end:{line:54,column:2}},\"20\":{start:{line:40,column:2},end:{line:40,column:20}},\"21\":{start:{line:41,column:13},end:{line:41,column:15}},\"22\":{start:{line:43,column:16},end:{line:43,column:53}},\"23\":{start:{line:44,column:2},end:{line:51,column:3}},\"24\":{start:{line:45,column:19},end:{line:45,column:63}},\"25\":{start:{line:46,column:26},end:{line:46,column:55}},\"26\":{start:{line:47,column:4},end:{line:47,column:59}},\"27\":{start:{line:49,column:4},end:{line:49,column:69}},\"28\":{start:{line:50,column:4},end:{line:50,column:27}},\"29\":{start:{line:52,column:2},end:{line:52,column:40}},\"30\":{start:{line:53,column:2},end:{line:53,column:14}},\"31\":{start:{line:56,column:0},end:{line:72,column:2}},\"32\":{start:{line:57,column:2},end:{line:57,column:21}},\"33\":{start:{line:58,column:15},end:{line:58,column:30}},\"34\":{start:{line:59,column:21},end:{line:59,column:23}},\"35\":{start:{line:60,column:2},end:{line:66,column:3}},\"36\":{start:{line:61,column:26},end:{line:61,column:51}},\"37\":{start:{line:62,column:4},end:{line:62,column:59}},\"38\":{start:{line:63,column:15},end:{line:63,column:60}},\"39\":{start:{line:64,column:4},end:{line:64,column:19}},\"40\":{start:{line:65,column:4},end:{line:65,column:25}},\"41\":{start:{line:67,column:15},end:{line:67,column:30}},\"42\":{start:{line:68,column:13},end:{line:68,column:26}},\"43\":{start:{line:69,column:20},end:{line:69,column:48}},\"44\":{start:{line:70,column:2},end:{line:70,column:42}},\"45\":{start:{line:71,column:2},end:{line:71,column:40}},\"46\":{start:{line:74,column:0},end:{line:83,column:2}},\"47\":{start:{line:75,column:2},end:{line:75,column:27}},\"48\":{start:{line:77,column:23},end:{line:77,column:52}},\"49\":{start:{line:79,column:15},end:{line:79,column:30}},\"50\":{start:{line:80,column:13},end:{line:80,column:26}},\"51\":{start:{line:81,column:20},end:{line:81,column:48}},\"52\":{start:{line:82,column:2},end:{line:82,column:42}}},fnMap:{\"0\":{name:\"(anonymous_0)\",decl:{start:{line:7,column:15},end:{line:7,column:16}},loc:{start:{line:7,column:44},end:{line:21,column:1}},line:7},\"1\":{name:\"(anonymous_1)\",decl:{start:{line:23,column:22},end:{line:23,column:23}},loc:{start:{line:23,column:56},end:{line:37,column:1}},line:23},\"2\":{name:\"(anonymous_2)\",decl:{start:{line:39,column:19},end:{line:39,column:20}},loc:{start:{line:39,column:48},end:{line:54,column:1}},line:39},\"3\":{name:\"(anonymous_3)\",decl:{start:{line:56,column:20},end:{line:56,column:21}},loc:{start:{line:56,column:55},end:{line:72,column:1}},line:56},\"4\":{name:\"(anonymous_4)\",decl:{start:{line:74,column:26},end:{line:74,column:27}},loc:{start:{line:74,column:52},end:{line:83,column:1}},line:74}},branchMap:{},s:{\"0\":0,\"1\":0,\"2\":0,\"3\":0,\"4\":0,\"5\":0,\"6\":0,\"7\":0,\"8\":0,\"9\":0,\"10\":0,\"11\":0,\"12\":0,\"13\":0,\"14\":0,\"15\":0,\"16\":0,\"17\":0,\"18\":0,\"19\":0,\"20\":0,\"21\":0,\"22\":0,\"23\":0,\"24\":0,\"25\":0,\"26\":0,\"27\":0,\"28\":0,\"29\":0,\"30\":0,\"31\":0,\"32\":0,\"33\":0,\"34\":0,\"35\":0,\"36\":0,\"37\":0,\"38\":0,\"39\":0,\"40\":0,\"41\":0,\"42\":0,\"43\":0,\"44\":0,\"45\":0,\"46\":0,\"47\":0,\"48\":0,\"49\":0,\"50\":0,\"51\":0,\"52\":0},f:{\"0\":0,\"1\":0,\"2\":0,\"3\":0,\"4\":0},b:{},_coverageSchema:\"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c\"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const path=(cov_1j9skdwwk3.s[0]++,require(\"path\"));let debug=(cov_1j9skdwwk3.s[1]++,require(\"debug\")(path.basename(__filename,\".js\")));cov_1j9skdwwk3.s[2]++;debug(\"eifile\");cov_1j9skdwwk3.s[3]++;exports.load=async(filePath,dataDef)=>{cov_1j9skdwwk3.f[0]++;cov_1j9skdwwk3.s[4]++;debug(`load ${filePath}`);const util=(cov_1j9skdwwk3.s[5]++,require(\"util\"));const fs=(cov_1j9skdwwk3.s[6]++,require(\"fs\"));const readFile=(cov_1j9skdwwk3.s[7]++,util.promisify(fs.readFile));const data=(cov_1j9skdwwk3.s[8]++,await readFile(filePath,\"utf-8\"));cov_1j9skdwwk3.s[9]++;debug(`${data.length}`);const lineLength=(cov_1j9skdwwk3.s[10]++,dataDef[\"fullWidth\"]);const re=(cov_1j9skdwwk3.s[11]++,new RegExp(`.{1,${lineLength}}`,\"g\"));const lines=(cov_1j9skdwwk3.s[12]++,data.match(re));cov_1j9skdwwk3.s[13]++;return lines;};cov_1j9skdwwk3.s[14]++;exports.parseRecord=(data,dataDef,kenmerkRecord)=>{cov_1j9skdwwk3.f[1]++;cov_1j9skdwwk3.s[15]++;debug(`parseRecord`);const fixy=(cov_1j9skdwwk3.s[16]++,require(\"fixy\"));var fixyData=(cov_1j9skdwwk3.s[17]++,fixy.parse({map:dataDef[kenmerkRecord],options:{fullwidth:dataDef[\"fullWidth\"]}},data));cov_1j9skdwwk3.s[18]++;return fixyData;};cov_1j9skdwwk3.s[19]++;exports.loadFile=async(filePath,dataDef)=>{cov_1j9skdwwk3.f[2]++;cov_1j9skdwwk3.s[20]++;debug(`loadFile`);var data=(cov_1j9skdwwk3.s[21]++,[]);const lines=(cov_1j9skdwwk3.s[22]++,await exports.load(filePath,dataDef));cov_1j9skdwwk3.s[23]++;for(var i=0;i<lines.length;i++){var fixyData=(cov_1j9skdwwk3.s[24]++,exports.parseRecord(lines[i],dataDef,\"01\"));// just always parse with \"Voorlooprecord\" first\nconst kenmerkRecord=(cov_1j9skdwwk3.s[25]++,fixyData[0][\"Kenmerk record\"]);cov_1j9skdwwk3.s[26]++;debug(`fixyData[0].Kenmerk record = ${kenmerkRecord}`);cov_1j9skdwwk3.s[27]++;fixyData=exports.parseRecord(lines[i],dataDef,kenmerkRecord);//\ncov_1j9skdwwk3.s[28]++;data.push(fixyData[0]);}cov_1j9skdwwk3.s[29]++;debug(`data.length = ${data.length}`);cov_1j9skdwwk3.s[30]++;return data;};cov_1j9skdwwk3.s[31]++;exports.writeFile=async(data,dataDef,filePath)=>{cov_1j9skdwwk3.f[3]++;cov_1j9skdwwk3.s[32]++;debug(`writeFile`);const fixy=(cov_1j9skdwwk3.s[33]++,require(\"fixy\"));var outputString=(cov_1j9skdwwk3.s[34]++,\"\");cov_1j9skdwwk3.s[35]++;for(var i=0;i<data.length;i++){const kenmerkRecord=(cov_1j9skdwwk3.s[36]++,data[i][\"Kenmerk record\"]);cov_1j9skdwwk3.s[37]++;debug(`fixyData[0].Kenmerk record = ${kenmerkRecord}`);var line=(cov_1j9skdwwk3.s[38]++,fixy.unparse(dataDef[kenmerkRecord],data[i]));cov_1j9skdwwk3.s[39]++;line+=\"\\r\\n\";cov_1j9skdwwk3.s[40]++;outputString+=line;}const util=(cov_1j9skdwwk3.s[41]++,require(\"util\"));const fs=(cov_1j9skdwwk3.s[42]++,require(\"fs\"));const writeFile=(cov_1j9skdwwk3.s[43]++,util.promisify(fs.writeFile));cov_1j9skdwwk3.s[44]++;await writeFile(filePath,outputString);cov_1j9skdwwk3.s[45]++;debug(`data.length = ${data.length}`);};cov_1j9skdwwk3.s[46]++;exports.writeDataAsJson=async(data,filePath)=>{cov_1j9skdwwk3.f[4]++;cov_1j9skdwwk3.s[47]++;debug(`writeDataAsJson`);const outputString=(cov_1j9skdwwk3.s[48]++,JSON.stringify(data,null,2));const util=(cov_1j9skdwwk3.s[49]++,require(\"util\"));const fs=(cov_1j9skdwwk3.s[50]++,require(\"fs\"));const writeFile=(cov_1j9skdwwk3.s[51]++,util.promisify(fs.writeFile));cov_1j9skdwwk3.s[52]++;await writeFile(filePath,outputString);};","hash":"6324185834b0f6880081aa228ebbad18"}
